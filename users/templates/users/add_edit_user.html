{% extends 'users/base.html' %}
{% block content_body %}

<div class="container">
    {{ form.errors }}

    <form method="POST" action="" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-group row">
            <label for="id_username" class="col-sm-2 col-form-label">User Name</label>
            <div class="col-sm-6">
                {{ form.username }}
            </div>
        </div>

        <div class="form-group row">
            <label for="id_first_name" class="col-sm-2 col-form-label">First Name</label>
            <div class="col-sm-6">
                {{ form.first_name }}
            </div>
        </div>

        <div class="form-group row">
            <label for="id_last_name" class="col-sm-2 col-form-label">Last Name</label>
            <div class="col-sm-6">
                {{ form.last_name }}
            </div>
        </div>

        <div class="form-group row">
            <label for="id_email" class="col-sm-2 col-form-label">E-mail</label>
            <div class="col-sm-6">
                {{ form.email }}
            </div>
        </div>

        <div class="form-group row">
            <label for="id_mobile" class="col-sm-2 col-form-label">Contact Number</label>
            <div class="col-sm-6">
                {{ form.mobile }}
            </div>
        </div>

        <div class="form-group row">
            <label for="id_gender" class="col-sm-2 col-form-label">Gender</label>
            <div class="col-sm-3">
                {{ form.gender }}
            </div>
        </div>

        <div class="form-group row">
            <label for="id_dob" class="col-sm-2 col-form-label">Date of Birth</label>
            <div class="col-sm-6">
                {{ form.dob }}
            </div>
        </div>

        <div class="form-group row">
            <label for="id_location" class="col-sm-2 col-form-label">Location</label>
            <div class="col-sm-6">
                {{ form.location }}
            </div>
        </div>

        {% if not edit %}

        <div class="form-group row">
            <label for="id_password1" class="col-sm-2 col-form-label">Password</label>
            <div class="col-sm-6">
                {{ form.password1 }}
            </div>
        </div>

        <div class="form-group row">
            <label for="id_password2" class="col-sm-2 col-form-label">Confirm Password</label>
            <div class="col-sm-6">
                {{ form.password2 }}
            </div>
        </div>

        {% endif %}

        <div class="form-group row">
            <label for="id_img" class="col-sm-2 col-form-label">Image</label>
            <div class="col-sm-6">
                {{ form.img }}
            </div>
        </div>

        <br>
        <div class="form-group-row col-sm-8 row d-flex justify-content-center"></div>
            <div class="col-sm-8 text-center">
            {% if edit %}
            
                <button type="submit" class="btn btn-primary col-sm-2">Update</button>

            {% else %}

                <button type="submit" class="btn btn-primary col-sm-2">Add</button>

            {% endif %}
                <a class="btn btn-danger col-sm-2" href="{% url 'list_users' %}"> Cancel </a>
            </div>
        </div>

        <!-- <div class="form-group row">
            <label for="id_test" class="col-sm-2 col-form-label">Test</label>
            <div class="col-sm-6">
              <input type="text" class="form-control" id="id_test">
            </div>
        </div> -->
    </form>

  </div>

{% endblock %}

{% block content_script %}


<script>

    $(document).ready(function() {
        form_fields = $(":input")
        $.each(form_fields, (index, ele) => {
            $(ele).addClass("form-control")
        })

        $("#id_img").removeClass("form-control")
        $("#img-clear_id").removeClass("form-control")

        //$("#id_test").datetimepicker({
        //    datepicker: true,
        //    timepicker: false,
        //    yearStart: 1950,
        //    yearEnd: 2020,
        //
        //});

        //$('#id_dob').datetimepicker({
        //    format:'YYYY-MM-DD HH:mm:ss'
        //});

        var autocomplete;

        //function initAutocomplete() {
        // Create the autocomplete object, restricting the search predictions to
        // geographical location types.
        autocomplete = new google.maps.places.Autocomplete(
            document.getElementById('id_location'), {types: ['geocode']});
        
        // Avoid paying for data that you don't need by restricting the set of
        // place fields that are returned to just the address components.
        autocomplete.setFields(['address_component']);
        
        // When the user selects an address from the drop-down, populate the
        // address fields in the form.
        //}
    });
</script>
        
{% endblock %}